{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: \"\",\n    message: \"\",\n}\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener(\"input\", (e) => {\n  const { name, value } = e.target;\n\n  if (name in formData) {\n    formData[name] = value.trim();\n    saveToLS('feedback-form-state', formData);\n  }\n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction getFromLS(key, defaultValue) {\n  const jsonData = localStorage.getItem(key);\n  try {\n    if (!jsonData) return defaultValue;\n    return JSON.parse(jsonData);\n  } catch {\n    console.log('ERROR PARSING');\n    return defaultValue;\n  }\n}\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  \n  const saved = getFromLS('feedback-form-state',{ email: \"\",\n  message:\"\",})\n\n\nformData.email = saved.email;\nformData.message = saved.message;\n\nform.elements.email.value = saved.email;\nform.elements.message.value = saved.message;\n\n});\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n\n  e.preventDefault();\n\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n  \n  if(email === \"\" || message === \"\"){\n    return console.log(\"Please fill in all the fields!\");\n    \n  } else if (email.endsWith('.ru')){\n    return console.log('not allowed!');\n    \n  }\n\n  console.log(formData);\n    localStorage.removeItem('feedback-form-state');\n  form.reset();\n  formData.email = \"\";\n  formData.message = \"\";\n}"],"names":["formData","form","name","value","saveToLS","key","jsonData","getFromLS","defaultValue","saved","handleSubmit","email","message"],"mappings":"wFAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAAU,GAAM,CACpC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAU,EAAE,OAEtBD,KAAQF,IACVA,EAASE,CAAI,EAAIC,EAAM,KAAI,EAC3BC,EAAS,sBAAuBJ,CAAQ,EAE5C,CAAC,EAED,SAASI,EAASC,EAAKF,EAAO,CAC5B,MAAMG,EAAW,KAAK,UAAUH,CAAK,EACrC,aAAa,QAAQE,EAAKC,CAAQ,CACpC,CAEA,SAASC,EAAUF,EAAKG,EAAc,CACpC,MAAMF,EAAW,aAAa,QAAQD,CAAG,EACzC,GAAI,CACF,OAAKC,EACE,KAAK,MAAMA,CAAQ,EADJE,CAE1B,MAAU,CACN,eAAQ,IAAI,eAAe,EACpBA,CACR,CACH,CAIA,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,MAAMC,EAAQF,EAAU,sBAAsB,CAAE,MAAO,GACvD,QAAQ,EAAE,CAAE,EAGdP,EAAS,MAAQS,EAAM,MACvBT,EAAS,QAAUS,EAAM,QAEzBR,EAAK,SAAS,MAAM,MAAQQ,EAAM,MAClCR,EAAK,SAAS,QAAQ,MAAQQ,EAAM,OAEpC,CAAC,EAEDR,EAAK,iBAAiB,SAAUS,CAAY,EAE5C,SAASA,EAAa,EAAG,CAEvB,EAAE,eAAc,EAEhB,MAAMC,EAAQV,EAAK,SAAS,MAAM,MAAM,OAClCW,EAAUX,EAAK,SAAS,QAAQ,MAAM,OAE5C,GAAGU,IAAU,IAAMC,IAAY,GAC7B,OAAO,QAAQ,IAAI,gCAAgC,EAE9C,GAAID,EAAM,SAAS,KAAK,EAC7B,OAAO,QAAQ,IAAI,cAAc,EAInC,QAAQ,IAAIX,CAAQ,EAClB,aAAa,WAAW,qBAAqB,EAC/CC,EAAK,MAAK,EACVD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB"}